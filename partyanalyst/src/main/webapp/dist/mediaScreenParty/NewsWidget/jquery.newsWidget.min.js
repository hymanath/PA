(function(A){A.fn.newsWidget=function(G){var e=A.extend({currentNewsWidth:700,currentNewsHeight:280,numberOfNews:2,widgetHeight:540,currentAlign:"center",fullArticleType:"full",navBtns:"sides",closedNewsWidth:500,closedNewsPosition:"left",closedNewsOffset:50,maxLetters:330,imgCrop:true,imgHeight:200,imgInPreview:false,widgetOpenType:"fadeDown",widgetOpenDelay:0.5,widgetOpenDuration:0.5,fullArticleOpen:"fadeLeft",fullArticleClose:"fadeRight",fullArticleOpenDelay:0.1,fullArticleAnimationDuration:0.5,animationsDuration:0.4,easeing:"Expo.easeOut",currentNewsHoverType:1,linkText:"Read: ",titleInLink:"after",linkTarget:"blank",readMoreTxt:"Continue Reading ..",feed:"none",feedReadMoreType:"insite",feedMaxNum:10},G);var i=0;var d=0;var E;var b=1;var L=1;var U=new Array();var c=0;var W=A(this);var N;var P;var K;var Z;if(e.feed==="none"||e.feed===""||e.feed===undefined||e.feed==="undefined"){var Q=A(this).html();A(this).empty();A(this).append('<div class="newsWidgetData">'+Q+"</div>");R();I()}else{R();jQuery.getFeed({url:"proxy.php?url="+e.feed,success:H})}function H(q){var n="";for(var l=0;l<q.items.length&&l<e.feedMaxNum;l++){var o=q.items[l];var r=o.updated;var k=o.updated;var s=o.updated;r=(r.slice(8,10));if(r.slice(0,1)==="0"){r=(r.slice(1,2))}k=(k.slice(5,7));if(k.slice(0,1)==="0"){k=(k.slice(1,2))}var p=r+"-"+k+"-"+s.slice(0,4);n+='<li class="widgetdata" data-title="'+o.title+'" data-date="'+p+'"  ';if(e.feedReadMoreType==="external"){n+='data-link="'+o.link+'"'}n+=">";n+=o.description+'<a class="readmore" href="'+o.link+'" target="blank">'+e.readMoreTxt+"</a>";n+="</li>"}W.append('<div class="newsWidgetData">'+n+"</div>");I()}function R(){var l="<!-- ---- NEWS WIDGET GENERATED HTML --- -->";l+='<div class="newsWidgetLoading"></div>';l+='<div class="newsWidget">';if(e.navBtns!=="bottom-left"&&e.navBtns!=="bottom-right"){l+='<nav class="left"></nav>'}l+='<div class="newsCnt">';l+='<header style="height:'+e.currentNewsHeight+'px"><div class="newsWidgetCnt"></div></header>';l+="</div>";if(e.navBtns==="sides"||e.navBtns==="bottom-left"||e.navBtns==="bottom-right"||e.navBtns==="top/bottom"){l+='<nav class="right"></nav>'}l+="</div>";l+="<!-- END GENERATED CONTENT -->";W.append(l);var k=A('<article class="closed"></article>').hide().appendTo(W);E=parseInt(k.height(),10);b=parseInt(k.css("margin-top"),10);L=parseInt(k.css("margin-bottom"),10);k.remove();if(e.numberOfNews<1){e.numberOfNews=parseInt(((e.widgetHeight-e.currentNewsHeight)/2)/E,10)}e.widgetHeight=e.currentNewsHeight+2*e.numberOfNews*(E+b+L)-3*(b+L);W.css("overflow","hidden");W.css("width",e.currentNewsWidth);W.css("height",e.widgetHeight);W.find(".newsWidget .newsCnt").css("width",e.currentNewsWidth);W.find(".newsWidget .newsCnt").css("height",e.widgetHeight);if(e.currentAlign=="center"){W.find(".newsWidget .newsCnt header").css("margin-top",Math.round((e.widgetHeight-e.currentNewsHeight)/2))}switch(e.navBtns){case"sides":if(e.currentAlign=="center"){W.find(".newsWidget nav").css("height",e.widgetHeight)}else{W.find(".newsWidget nav").css("height",e.currentNewsHeight)}W.find(".newsWidget nav.left").css("float","left");W.find(".newsWidget nav.right").css("float","right");W.find(".newsWidget .newsCnt").css("float","left");W.find(".newsWidget nav.left").html('<div class="newsWidgetCnt"><a class="button prev" href="#"><span>Up</span></a></div>');W.find(".newsWidget nav.right").html('<div class="newsWidgetCnt"><a class="button next" href="#"><span>Down</span></a></div>');W.find(".newsWidget nav .newsWidgetCnt").css("margin-top","-30px");i=e.currentNewsWidth+2*parseInt(W.find(".newsWidget nav").width(),10);d=e.widgetHeight;break;case"left":if(e.currentAlign=="center"){W.find(".newsWidget nav").css("height",e.widgetHeight)}else{W.find(".newsWidget nav").css("height",e.currentNewsHeight)}W.find(".newsWidget nav").css("float","left");W.find(".newsWidget .newsCnt").css("float","right");i=e.currentNewsWidth+parseInt(W.find(".newsWidget nav").width(),10);d=e.widgetHeight;W.find(".newsWidget nav").html('<div class="newsWidgetCnt"><a class="button up" href="#"><span>Up</span></a><a class="button down" href="#"><span>Down</span></a></div>');break;case"right":if(e.currentAlign=="center"){W.find(".newsWidget nav").css("height",e.widgetHeight)}else{W.find(".newsWidget nav").css("height",e.currentNewsHeight)}W.find(".newsWidget nav").css("float","right");W.find(".newsWidget .newsCnt").css("float","left");i=e.currentNewsWidth+parseInt(W.find(".newsWidget nav").width(),10);d=e.widgetHeight;W.find(".newsWidget nav").html('<div class="newsWidgetCnt"><a class="button up" href="#"><span>Up</span></a><a class="button down" href="#"><span>Down</span></a></div>');break;case"top-left":case"top-right":i=e.currentNewsWidth;d=e.widgetHeight+parseInt(W.find(".newsWidget nav").height(),10);W.find(".newsWidget nav").width(e.currentNewsWidth);if(e.navBtns==="top-left"){W.find(".newsWidget nav").html('<div class="newsWidgetCnt"><a class="button prev" style="float:left" href="#"><span>Up</span></a><a class="button next" style="float:left" href="#"><span>Down</span></a></div>')}else{W.find(".newsWidget nav").html('<div class="newsWidgetCnt"><a class="button next" style="float:right" href="#"><span>Down</span></a><a class="button prev" style="float:right" href="#"><span>Up</span></a></div>')}W.find(".newsWidget nav .newsWidgetCnt").css("margin-top","0px");W.find(".newsWidget nav .newsWidgetCnt").css("top","0px");break;case"bottom-left":case"bottom-right":W.find(".newsWidget nav.right").width(e.currentNewsWidth);W.find(".newsWidget nav.right").css("position","absolute");W.find(".newsWidget nav.right").css("bottom","0px");if(e.navBtns==="bottom-left"){W.find(".newsWidget nav.right").html('<div class="newsWidgetCnt"><a class="button prev" style="float:left" href="#"><span>Up</span></a><a class="button next" style="float:left" href="#"><span>Down</span></a></div>')}else{W.find(".newsWidget nav.right").html('<div class="newsWidgetCnt"><a class="button next" style="float:right" href="#"><span>Down</span></a><a class="button prev" style="float:right" href="#"><span>Up</span></a></div>')}W.find(".newsWidget nav.right .newsWidgetCnt").css("margin-top","0px");W.find(".newsWidget nav.right .newsWidgetCnt").css("top","0px");i=e.currentNewsWidth;d=e.widgetHeight+parseInt(W.find(".newsWidget nav").height(),10);break;case"top/bottom":W.find(".newsWidget nav").width(e.currentNewsWidth);W.find(".newsWidget nav.right").css("position","absolute");W.find(".newsWidget nav.left").html('<div class="newsWidgetCnt"><a class="button up" style="float:left;" href="#"><span>Up</span></a></div>');W.find(".newsWidget nav.right").html('<div class="newsWidgetCnt"><a class="button down" style="float:left;" href="#"><span>Down</span></a></div>');W.find(".newsWidget nav .newsWidgetCnt").css("margin-top","0px");W.find(".newsWidget nav .newsWidgetCnt").css("top","0px");W.find(".newsWidget nav a").css("width",e.closedNewsWidth);if(e.closedNewsPosition==="left"){W.find(".newsWidget nav a").css("margin-left",e.closedNewsOffset)}else{if(e.closedNewsPosition==="right"){W.find(".newsWidget nav a").css("margin-left",(e.currentNewsWidth-e.closedNewsWidth)+e.closedNewsOffset)}}i=e.currentNewsWidth;d=e.widgetHeight+2*parseInt(W.find(".newsWidget nav").height(),10);break}W.css("width",i);W.css("height",d);W.find(".newsWidget").css("width",i);W.find(".newsWidget").css("height",d)}function I(){W.find(".newsWidgetData> li").not("li li").each(function(u,v){P=U.length;N=new V(this,P);U.push(N)});var s;for(var o=0;o<U.length;o++){var l=e.linkText;var k=e.titleInLink;if(A(U[o].ref).attr("data-link-text")!==undefined&&A(U[o].ref).attr("data-link-text")!=="undefined"&&A(U[o].ref).attr("data-link-text")!==""){l=A(U[o].ref).attr("data-link-text")}if(A(U[o].ref).attr("data-title-in-link")!==undefined&&A(U[o].ref).attr("data-title-in-link")!=="undefined"&&A(U[o].ref).attr("data-title-in-link")!==""){k=A(U[o].ref).attr("data-title-in-link")}s=A(U[o].ref).attr("data-link");var m='<article class="news-'+o+'" data-id="'+o+'"><blockquote><h2>'+A(U[o].ref).attr("data-title")+"<span class='pull-right ' style='color:#EECF36;font-size:13px !important;width:100px;text-align:center;'><span class='textChanged' style='color:#EECF36;font-size:13px !important;width:100px;text-align:center;'>Registrations</span><br/><b>"+S(A(U[o].ref).text())+"</b></span></h2><time>"+f(U[o].ref)+'</time><div class="imgHolder" style="margin-top:10px"></div><div class="excerpt">'+S(A(U[o].ref).text())+"</div>";if(s!=="undefined"&&s!==false&&s!==""&&s!==undefined&&A(U[o].ref).attr("data-link-type")!=="readmore"){m+='<a class="link" href="'+s+'" target="'+e.linkTarget+'">'}else{m+='<a class="link insite-read" data-id="'+o+'" href="#"">'}if(A(U[o].ref).attr("data-link-type")==="readmore"){A(U[o].ref).append('<a class="readmore" href="'+A(U[o].ref).attr("data-link")+'" target="blank">'+e.readMoreTxt+"</a>")}switch(k){case"before":m+=A(U[o].ref).attr("data-title")+l+"</a></blockquote>";break;case"after":m+=l+A(U[o].ref).attr("data-title")+"</a></blockquote>";break;case"none":m+=l+"</a></blockquote>";break;default:m+=l+"</a></blockquote>";break}m+="</article>";var n='<article class="news-'+o+'" data-id="'+o+'"><aside><mark>'+A(U[o].ref).attr("data-title")+'</mark><time datetime="'+f(A(U[o].ref))+'"><strong>'+J(U[o].ref)+"</strong><em>"+X(U[o].ref)+"</em></time></aside></article>";W.find(".newsWidget .newsCnt").append(n);W.find(".newsWidget .newsCnt header .newsWidgetCnt").append('<div class="limitter">'+m+"</div>");W.find(".newsWidget .newsCnt header .limitter").height(e.currentNewsHeight);var p=A(U[o].ref).attr("data-image");if(p!=="undefined"&&p!==""&&p!==undefined&&e.imgInPreview){j(W.find(".newsWidget .newsCnt header .newsWidgetCnt .imgHolder").last(),p,e.imgCrop,e.imgHeight,"100%")}}W.find(".newsWidget .newsCnt article").addClass("closed");W.find(".newsWidget .newsCnt header article").removeClass("closed");W.find(".newsWidget .newsCnt header article").addClass("current");W.find(".closed").css("width",e.closedNewsWidth);if(e.closedNewsPosition==="left"){W.find(".closed").css("margin-left",e.closedNewsOffset)}else{if(e.closedNewsPosition==="right"){W.find(".closed").css("margin-left",(e.currentNewsWidth-e.closedNewsWidth)-e.closedNewsOffset)}}var q=W.find(".newsWidget .newsCnt article.closed aside time").width()+1;var t=W.find(".newsWidget .newsCnt article.closed aside time").height()+1;W.find(".newsWidget .newsCnt article.closed").hover(function(u){TweenMax.to(A(this).find("time"),e.animationsDuration,{css:{left:-q},ease:e.easeing});TweenMax.to(A(this).find("mark"),e.animationsDuration,{css:{marginLeft:q+10},ease:e.easeing});TweenMax.to(A(this),e.animationsDuration,{css:{backgroundPosition:(q+10)+"px "+t/3+"px"},ease:e.easeing,delay:(e.animationsDuration-0.1)})},function(u){TweenMax.to(A(this).find("time"),e.animationsDuration,{css:{left:"0px"},ease:e.easeing,delay:(e.animationsDuration-0.1)});TweenMax.to(A(this).find("mark"),e.animationsDuration,{css:{marginLeft:q},ease:e.easeing});TweenMax.killTweensOf(A(this));TweenMax.to(A(this),e.animationsDuration,{css:{backgroundPosition:"-30px 20px"},ease:e.easeing})});if(e.currentNewsHoverType==2){var r=W.find(".newsWidget .newsCnt header article").css("background-color");W.find(".newsWidget .newsCnt header article").css("cursor","pointer")}W.find(".newsWidget .newsCnt header article").hover(function(){switch(e.currentNewsHoverType){case 1:var u=A(this).find("a.link");TweenMax.to(u,e.animationsDuration,{css:{top:(e.currentNewsHeight-60)},ease:e.easeing});TweenMax.fromTo(u,(e.animationsDuration+0.1),{css:{textIndent:"-500px",backgroundPosition:"-100%  center"}},{css:{textIndent:"50px",backgroundPosition:"25px center"},ease:e.easeing,delay:0.08});break;case 2:TweenMax.to(A(this),e.animationsDuration,{css:{backgroundColor:A(this).find("a.link").css("background-color")},ease:e.easeing});TweenMax.to(A(this).find("a.link"),0,{css:{bottom:"0px"},ease:e.easeing,delay:e.animationsDuration});TweenMax.fromTo(A(this).find("a.link"),(e.animationsDuration-0.1),{css:{textIndent:"-500px",backgroundPosition:"-100%  center"}},{css:{textIndent:"50px",backgroundPosition:"25px center"},ease:e.easeing,delay:e.animationsDuration});break}},function(){switch(e.currentNewsHoverType){case 1:TweenMax.to(A(this).find("a.link"),e.animationsDuration,{css:{top:(e.currentNewsHeight)},ease:e.easeing});break;case 2:TweenMax.to(A(this),e.animationsDuration,{css:{backgroundColor:r},ease:e.easeing});TweenMax.to(A(this).find("a.link"),e.animationsDuration,{css:{bottom:"-60px"},ease:e.easeing});break}});W.find("a.insite-read").click(function(u){u.preventDefault();T(W,A(this).attr("data-id"));return false});W.find(".next, .up").click(function(u){u.preventDefault();if(c<U.length){F(W)}return false});W.find(".prev, .down").click(function(u){u.preventDefault();if(c>1){D(W)}return false});W.find(".newsWidget .newsCnt article.closed").click(function(u){u.preventDefault();a(W,A(this).attr("data-id"));return false});F(W);W.find(".newsWidgetData").remove();TweenMax.to(W.find(".newsWidgetLoading"),e.animationsDuration,{css:{opacity:0},ease:e.easeing,onComplete:function(){W.find(".newsWidgetLoading").remove()}});TweenMax.to(W,e.animationsDuration,{css:{opacity:1},ease:e.easeing});switch(e.widgetOpenType){case"fade":TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{opacity:0}},{css:{opacity:1},ease:e.easeing,delay:e.widgetOpenDelay});break;case"fadeUp":TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{marginTop:d}},{css:{marginTop:0},ease:e.easeing,delay:e.widgetOpenDelay});TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{opacity:0}},{css:{opacity:1},ease:e.easeing,delay:e.widgetOpenDelay+0.2});break;case"fadeLeft":TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{marginLeft:-i}},{css:{marginLeft:0},ease:e.easeing,delay:e.widgetOpenDelay});TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{opacity:0}},{css:{opacity:1},ease:e.easeing,delay:e.widgetOpenDelay+0.2});break;case"fadeRight":TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{marginLeft:i}},{css:{marginLeft:0},ease:e.easeing,delay:e.widgetOpenDelay});TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{opacity:0}},{css:{opacity:1},ease:e.easeing,delay:e.widgetOpenDelay+0.2});break;case"fadeDown":TweenMax.fromTo(W.find(".newsWidget"),e.animationsDuration,{css:{marginTop:-d}},{css:{marginTop:0},ease:e.easeing,delay:e.widgetOpenDelay});TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{opacity:0}},{css:{opacity:1},ease:e.easeing,delay:e.widgetOpenDelay+0.2});break;case"slideUp":TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{marginTop:d}},{css:{marginTop:0},ease:e.easeing,delay:e.widgetOpenDelay});break;case"slideLeft":TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{marginLeft:-i}},{css:{marginLeft:0},ease:e.easeing,delay:e.widgetOpenDelay});break;case"slideRight":TweenMax.fromTo(W.find(".newsWidget"),e.widgetOpenDuration,{css:{marginLeft:i}},{css:{marginLeft:0},ease:e.easeing,delay:e.widgetOpenDelay});break;case"slideDown":TweenMax.fromTo(W.find(".newsWidget"),e.animationsDuration,{css:{marginTop:-d}},{css:{marginTop:0},ease:e.easeing,delay:e.widgetOpenDelay});break}}function a(n,o){var k=parseInt(o,10)+1;if(k===U.length){TweenMax.to(n.find(".next, .up"),e.animationsDuration,{css:{opacity:0.5},ease:e.easeing});n.find(".next, .up").css("cursor","default")}else{TweenMax.to(n.find(".next, .up"),e.animationsDuration,{css:{opacity:1},ease:e.easeing});n.find(".next, .up").css("cursor","pointer")}if(k===1){TweenMax.to(n.find(".prev, .down"),e.animationsDuration,{css:{opacity:0.5},ease:e.easeing});n.find(".prev, .down").css("cursor","default")}else{TweenMax.to(n.find(".prev, .down"),e.animationsDuration,{css:{opacity:1},ease:e.easeing});n.find(".prev, .down").css("cursor","pointer")}var l=-(e.currentNewsHeight+(k-1)*(E+L));TweenMax.killTweensOf(n.find(".news-0.closed"));TweenMax.to(n.find(".news-0.closed"),(e.animationsDuration+0.2),{css:{marginTop:l},ease:e.easeing});if((c+1)!==1){n.find(".news-"+c+".closed").css("margin-top",b)}n.find(".news-"+(k)+".closed").css("margin-top",(e.currentNewsHeight-E-b));c=parseInt(o,10)+1;var m=-(c-1)*n.find(".newsWidget .newsCnt header").height();TweenMax.to(n.find(".newsWidget .newsCnt header .newsWidgetCnt"),(e.animationsDuration+0.5),{css:{marginTop:m},ease:e.easeing})}function F(m){c+=1;if(c===U.length){TweenMax.to(m.find(".next, .up"),e.animationsDuration,{css:{opacity:0.5},ease:e.easeing});m.find(".next, .up").css("cursor","default")}if(c>1){TweenMax.to(m.find(".prev, .down"),e.animationsDuration,{css:{opacity:1},ease:e.easeing});m.find(".prev, .down").css("cursor","pointer")}else{TweenMax.to(m.find(".prev, .down"),e.animationsDuration,{css:{opacity:0.5},ease:e.easeing});m.find(".prev, .down").css("cursor","default")}var k=-(e.currentNewsHeight+(c-1)*(E+L));TweenMax.killTweensOf(m.find(".news-0.closed"));TweenMax.to(m.find(".news-0.closed"),e.animationsDuration,{css:{marginTop:k},ease:e.easeing});if(c!==1){m.find(".news-"+(c-1)+".closed").css("margin-top",b)}m.find(".news-"+(c)+".closed").css("margin-top",(e.currentNewsHeight-E));var l=-(c-1)*m.find(".newsWidget .newsCnt header").height();TweenMax.killTweensOf(m.find(".newsWidget .newsCnt header .newsWidgetCnt"));TweenMax.to(m.find(".newsWidget .newsCnt header .newsWidgetCnt"),0.5,{css:{marginTop:l},ease:e.easeing})}function D(m){c-=1;if(c===1){TweenMax.to(m.find(".prev, .down"),e.animationsDuration,{css:{opacity:0.5},ease:e.easeing});m.find(".prev, .down").css("cursor","default")}TweenMax.to(m.find(".next, .up"),e.animationsDuration,{css:{opacity:1},ease:e.easeing});m.find(".next, .up").css("cursor","pointer");var k=-(e.currentNewsHeight+(c-1)*(E+L));TweenMax.killTweensOf(m.find(".news-0.closed"));TweenMax.to(m.find(".news-0.closed"),e.animationsDuration,{css:{marginTop:k},ease:e.easeing});m.find(".news-"+(c+1)+".closed").css("margin-top",b);m.find(".news-"+(c)+".closed").css("margin-top",(e.currentNewsHeight-E));var l=-(c-1)*m.find(".newsWidget .newsCnt header").height();TweenMax.killTweensOf(m.find(".newsWidget .newsCnt header .newsWidgetCnt"));TweenMax.to(m.find(".newsWidget .newsCnt header .newsWidgetCnt"),0.5,{css:{marginTop:l},ease:e.easeing})}function T(n,o){switch(e.fullArticleType){case"full":A("body").append('<section id="fullNewsReader"><div class="newsWidgetCnt"><header><a class="button exit fullpage" href="#"><span>Close</span></a></header></div></section>');A("#fullNewsReader header").append("<mark></mark><time></time>");A("#fullNewsReader mark").html(A(U[o].ref).attr("data-title"));A("#fullNewsReader time").html(f(A(U[o].ref)));A("#fullNewsReader .newsWidgetCnt").append('<article><div class="wrapper"><div class="imgHolder"></div></div></article>');A("#fullNewsReader article .wrapper").append('<div class="news">'+A(U[o].ref).html()+"</div>");Z=A("body").css("overflow");A("body").css("overflow","hidden");var l=A(window).height()-A("#fullNewsReader article").position().top;A("#fullNewsReader article").height(l);if(l>(A("#fullNewsReader article .news").height()+parseInt(A("#fullNewsReader article .news").css("padding-top"),10)+parseInt(A("#fullNewsReader article .news").css("padding-bottom"),10))){A("#fullNewsReader article .news").height(l-parseInt(A("#fullNewsReader article .news").css("padding-top"),10)-parseInt(A("#fullNewsReader article .news").css("padding-bottom"),10))}O(A("#fullNewsReader"),o);A("#fullNewsReader article").mCustomScrollbar({scrollButtons:{enable:true}});TweenMax.fromTo(A("#fullNewsReader"),e.fullArticleAnimationDuration,{css:{opacity:0}},{css:{opacity:1},ease:e.easeing});A("#fullNewsReader a.button.exit").click(function(p){p.preventDefault();g()});switch(e.fullArticleOpen){case"fadeUp":TweenMax.fromTo(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginTop:A("#fullNewsReader").height(),opacity:0}},{css:{marginTop:0,opacity:1},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"fadeLeft":TweenMax.fromTo(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:-A("#fullNewsReader").width(),opacity:0}},{css:{marginLeft:0,opacity:1},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"fadeRight":TweenMax.fromTo(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:A("#fullNewsReader").width(),opacity:0}},{css:{marginLeft:0,opacity:1},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"fadeDown":TweenMax.fromTo(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginTop:-A("#fullNewsReader").height(),opacity:0}},{css:{marginTop:0,opacity:1},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"slideUp":TweenMax.fromTo(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginTop:A("#fullNewsReader").height()}},{css:{marginTop:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"slideLeft":TweenMax.fromTo(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:-A("#fullNewsReader").width()}},{css:{marginLeft:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"slideRight":TweenMax.fromTo(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:A("#fullNewsReader").width()}},{css:{marginLeft:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"slideDown":TweenMax.fromTo(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginTop:-A("#fullNewsReader").height()}},{css:{marginTop:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break}break;case"widget":n.append('<section class="widgetNewsReader"><header><a class="button exit widget" href="#"><span>Close</span></a></header></section>');n.find(".widgetNewsReader header").append("<mark></mark><time></time>");n.find(".widgetNewsReader").width(i);n.find(".widgetNewsReader").height(d);var k=i-parseInt(n.find(".widgetNewsReader a.button.exit.widget").width(),10);n.find(".widgetNewsReader header").width(k);n.find(".widgetNewsReader header mark").html(A(U[o].ref).attr("data-title"));n.find(".widgetNewsReader header time").html(f(A(U[o].ref)));n.find(".widgetNewsReader").append('<article><div class="imgHolder"></div></article>');n.find(".widgetNewsReader article").append('<div class="news">'+A(U[o].ref).html()+"</div>");n.find(".widgetNewsReader article").width(k+16);n.find(".widgetNewsReader article .news").width(k-80);var m=d-n.find(".widgetNewsReader article").position().top;n.find(".widgetNewsReader article").height(m);if(m>(n.find(".widgetNewsReaderarticle .news").height()+parseInt(A("#fullNewsReader article .news").css("padding-top"),10)+parseInt(n.find(".widgetNewsReader  article .news").css("padding-bottom"),10))){n.find(".widgetNewsReader  article .news").height(m-parseInt(n.find(".widgetNewsReader  article .news").css("padding-top"),10)-parseInt(n.find(".widgetNewsReader  article .news").css("padding-bottom"),10))}O(A(".widgetNewsReader"),o);n.find(".widgetNewsReader article").mCustomScrollbar({scrollButtons:{enable:true}});n.find("a.button.exit").click(function(p){p.preventDefault();g()});switch(e.fullArticleOpen){case"fadeUp":TweenMax.fromTo(n.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginTop:n.find(".widgetNewsReader").height(),opacity:0}},{css:{marginTop:0,opacity:1},ease:e.easeing,delay:e.fullArticleOpenDelay});TweenMax.to(n.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginTop:-n.find(".widgetNewsReader").height(),opacity:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"fadeLeft":TweenMax.fromTo(n.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:-n.find(".widgetNewsReader").width(),opacity:0}},{css:{marginLeft:0,opacity:1},ease:e.easeing,delay:e.fullArticleOpenDelay});TweenMax.to(n.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:n.find(".widgetNewsReader").width(),opacity:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"fadeRight":TweenMax.fromTo(n.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:n.find(".widgetNewsReader").width(),opacity:0}},{css:{marginLeft:0,opacity:1},ease:e.easeing});TweenMax.to(n.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:-n.find(".widgetNewsReader").width(),opacity:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"fadeDown":TweenMax.fromTo(n.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginTop:-n.find(".widgetNewsReader").height(),opacity:0}},{css:{marginTop:0,opacity:1},ease:e.easeing,delay:e.fullArticleOpenDelay});TweenMax.to(n.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginTop:n.find(".widgetNewsReader").height(),opacity:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"slideUp":TweenMax.fromTo(n.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:n.find(".widgetNewsReader").height()}},{css:{marginLeft:0},ease:e.easeing,delay:e.fullArticleOpenDelay});TweenMax.to(n.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginTop:-n.find(".widgetNewsReader").height()},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"slideLeft":TweenMax.fromTo(n.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:-n.find(".widgetNewsReader").width()}},{css:{marginLeft:0},ease:e.easeing,delay:e.fullArticleOpenDelay});TweenMax.to(n.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:n.find(".widgetNewsReader").width()},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"slideRight":TweenMax.fromTo(n.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:n.find(".widgetNewsReader").width()}},{css:{marginLeft:0},ease:e.easeing,delay:e.fullArticleOpenDelay});TweenMax.to(n.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:-n.find(".widgetNewsReader").width()},ease:e.easeing,delay:e.fullArticleOpenDelay});break;case"slideDown":TweenMax.fromTo(n.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginTop:-n.find(".widgetNewsReader").height()}},{css:{marginTop:0},ease:e.easeing,delay:e.fullArticleOpenDelay});TweenMax.to(n.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginTop:n.find(".widgetNewsReader").height(),opacity:0},ease:e.easeing,delay:e.fullArticleOpenDelay});break}break}}function h(){A("#fullNewsReader article").mCustomScrollbar("destroy");A("#fullNewsReader").remove();A("body").css("overflow",Z)}function B(){A(".widgetNewsReader article").mCustomScrollbar("destroy");A(".widgetNewsReader").remove()}function g(){switch(e.fullArticleType){case"full":TweenMax.fromTo(A("#fullNewsReader"),e.fullArticleAnimationDuration,{css:{opacity:1}},{css:{opacity:0},ease:e.easeing,onComplete:h});switch(e.fullArticleClose){case"fadeUp":TweenMax.to(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginTop:-A("#fullNewsReader").height(),opacity:0},ease:e.easeing});break;case"fadeLeft":TweenMax.to(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:-A("#fullNewsReader").width(),opacity:0},ease:e.easeing});break;case"fadeRight":TweenMax.to(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:A("#fullNewsReader").width(),opacity:0},ease:e.easeing});break;case"fadeDown":TweenMax.to(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginTop:A("#fullNewsReader").height(),opacity:0},ease:e.easeing});break;case"slideUp":TweenMax.to(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:-A("#fullNewsReader .newsWidgetCnt").height()},ease:e.easeing});break;case"slideLeft":TweenMax.to(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:-A("#fullNewsReader").width()},ease:e.easeing});break;case"slideRight":TweenMax.to(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginLeft:A("#fullNewsReader").width()},ease:e.easeing});break;case"slideDown":TweenMax.to(A("#fullNewsReader .newsWidgetCnt"),e.fullArticleAnimationDuration,{css:{marginTop:A("#fullNewsReader").height()},ease:e.easeing});break}break;case"widget":switch(e.fullArticleClose){case"fadeUp":TweenMax.to(W.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginTop:-A(".widgetNewsReader").height(),opacity:0},ease:e.easeing});TweenMax.fromTo(W.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:0,marginTop:d,opacity:0}},{css:{margin:0,opacity:1},ease:e.easeing,onComplete:B});break;case"fadeLeft":TweenMax.to(W.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:-A(window).width(),opacity:0},ease:e.easeing});TweenMax.fromTo(W.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:i,marginTop:0,opacity:0}},{css:{margin:0,opacity:1},ease:e.easeing,onComplete:B});break;case"fadeRight":TweenMax.to(W.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:A(window).width(),opacity:0},ease:e.easeing});TweenMax.fromTo(W.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:-i,marginTop:0,opacity:0}},{css:{margin:0,opacity:1},ease:e.easeing,onComplete:B});break;case"fadeDown":TweenMax.to(W.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginTop:A(".widgetNewsReader").height(),opacity:0},ease:e.easeing});TweenMax.fromTo(W.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:0,marginTop:-d,opacity:0}},{css:{margin:0,opacity:1},ease:e.easeing,onComplete:B});break;case"slideUp":TweenMax.to(W.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:-A(".widgetNewsReader").height()},ease:e.easeing});TweenMax.fromTo(W.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:0,marginTop:d,opacity:1}},{css:{margin:0,opacity:1},ease:e.easeing,onComplete:B});break;case"slideLeft":TweenMax.to(W.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:-A(window).width()},ease:e.easeing});TweenMax.fromTo(W.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:d,marginTop:0,opacity:1}},{css:{margin:0,opacity:1},ease:e.easeing,onComplete:B});break;case"slideRight":TweenMax.to(W.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginLeft:A(window).width()},ease:e.easeing});TweenMax.fromTo(W.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:-d,marginTop:0,opacity:1}},{css:{margin:0,opacity:1},ease:e.easeing,onComplete:B});break;case"slideDown":TweenMax.to(W.find(".widgetNewsReader"),e.fullArticleAnimationDuration,{css:{marginTop:A(".widgetNewsReader").height()},ease:e.easeing});TweenMax.fromTo(W.find(".newsWidget"),e.fullArticleAnimationDuration,{css:{marginLeft:0,marginTop:-d,opacity:1}},{css:{margin:0,opacity:1},ease:e.easeing,onComplete:B});break}break}}function j(k,m,n,o,l){k.append('<div class="imgHolder"></div>');k.find(".imgHolder").append('<img src="'+m+'" />');k.find(".imgHolder img").css("display","none");k.find(".imgHolder img").load(function(p){console.log("imgSetHeight :"+o);if(n){k.find(".imgHolder img").width(l);var q=parseInt(k.find(".imgHolder img").height())-o;if(q>0){k.find(".imgHolder img").css("display","block");TweenMax.fromTo(k.find(".imgHolder"),0.5,{css:{height:0}},{css:{height:o},ease:Expo.easeOut});k.find(".imgHolder img").css("margin-top",-parseInt(q/2,10));k.find(".imgHolder").addClass("expandImg");k.find(".imgHolder.expandImg").click(function(r){if(parseInt(A(this).find("img").css("margin-top"),10)<0){TweenMax.to(A(this).find("img"),0.5,{css:{marginTop:0},ease:Expo.easeOut});TweenMax.to(A(this),0.5,{css:{height:A(this).find("img").height()},ease:Expo.easeOut})}else{var s=A(this).find("img").height()-o;TweenMax.to(A(this).find(" img"),0.5,{css:{marginTop:-parseInt(s/2,10)},ease:Expo.easeOut});TweenMax.to(A(this),0.5,{css:{height:o},ease:Expo.easeOut})}})}else{k.find(".imgHolder img").css("display","block")}}})}function O(k,p){var l=A(window).height()-k.find("article").position().top;var m=A(U[p].ref).attr("data-image");if(m!=="undefined"&&m!==""&&m!==undefined){var n=e.imgCrop;var o=e.imgHeight;if(A(U[p].ref).attr("data-image-cropping")==="false"){n=false}if(A(U[p].ref).attr("data-image-cropping")==="true"){n=true}if(A(U[p].ref).attr("data-image-height")!==undefined&&A(U[p].ref).attr("data-image-height")!=="undefined"&&A(U[p].ref).attr("data-image-height")!==""){o=A(U[p].ref).attr("data-image-height")}k.find(".imgHolder").append('<img  src="'+m+'" />');k.find(".imgHolder img").css("display","none");k.find(".imgHolder img").load(function(r){if(n){var s=k.find(".imgHolder img").height()-o;var q=i-parseInt(W.find(".widgetNewsReader a.button.exit.widget").width(),10);W.find(".widgetNewsReader .imgHolder img").width(q);console.log("height:"+s);if(s>0){k.find(".imgHolder img").css("display","block");TweenMax.fromTo(k.find(".imgHolder"),e.animationsDuration,{css:{height:0}},{css:{height:o},ease:e.easeing,onComplete:M,onCompleteScope:k});k.find(".imgHolder img").css("margin-top",-parseInt(s/2,10));k.find(".imgHolder").addClass("expandImg");k.find(".imgHolder.expandImg").click(function(t){if(parseInt(A(this).find("img").css("margin-top"),10)<0){TweenMax.to(A(this).find("img"),e.animationsDuration,{css:{marginTop:0},ease:e.easeing});TweenMax.to(A(this),e.animationsDuration,{css:{height:A(this).find("img").height()},ease:e.easeing})}else{var u=A(this).find("img").height()-o;TweenMax.to(A(this).find(" img"),e.animationsDuration,{css:{marginTop:-parseInt(u/2,10)},ease:e.easeing});TweenMax.to(A(this),e.animationsDuration,{css:{height:o},ease:e.easeing})}})}else{k.find(".imgHolder img").css("display","block");TweenMax.fromTo(k.find(".imgHolder"),e.animationsDuration,{css:{height:0}},{css:{height:o},ease:e.easeing,onComplete:M,onCompleteScope:k})}}if(l-k.find(".imgHolder").height()>(k.find(".news").height()-parseInt(k.find(".news").css("margin-top"),10))){k.find(".news").height(l-k.find(".imgHolder").height()-parseInt(k.find("article .news").css("padding-top"),10)-parseInt(k.find("article .news").css("padding-bottom"),10)-parseInt(k.find(" article .news").css("margin-top"),10))}})}else{}}function M(){this.find("article").mCustomScrollbar("update")}function S(k){var l=A("<div>"+k+"</div>");l.find("*").contents().unwrap();var m=l.html().substr(0,e.maxLetters);if(k.length>e.maxLetters){m+=" [...]"}return m}function C(l){var k=(l)%100;return k>3&&k<21?"th":["th","st","nd","rd"][k%10]||"th"}function J(k){var l=A(k).attr("data-date").split("-");return l[0]}function X(l){var m=A(l).attr("data-date").split("-");var k=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"];return k[m[1]]}function f(m){var n=A(m).attr("data-date").split("-");var l=["January","February","March","April","May","June","July","August","September","October","November","December"];var k=l[n[1]]+" "+n[0]+C(n[0])+", "+n[2];if(A(m).hasOwnProperty("data-time")){k+=" - "+A(m).attr("data-time")}return k}function V(k,l){this.ref=k;this.id=l}function Y(k){A(".trace").append("<< "+k+" >>")}}}(jQuery));